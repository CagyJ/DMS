<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Cars</title>
    <!-- import Vue before Element -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- import JavaScript -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <!-- import axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<p style="font-size: 30px"> Welcome to DMS from cars!</p>

<body>

<div id="cars">

    <!--the car list-->
    <el-container>
        <el-main>
            <b style="color: red; font-size: 24px">Cars</b>
            <div style="float: right">
                <el-button type="primary" @click="addButton">New Car</el-button>
            </div>
            <el-table :data="tableData">
                <!-- <el-table-column prop="name" label="Name" width="120">
                </el-table-column> -->
                <el-table-column prop="id" label="ID">
                </el-table-column>
                <el-table-column prop="driverName" label="Driver Name">
                </el-table-column>
                <el-table-column prop="driverIdNumber" label="Driver Id Number">
                </el-table-column>
                <el-table-column prop="carLicense" label="Car License">
                </el-table-column>
                <el-table-column prop="driverAddress" label="Driver Address">
                </el-table-column>
                <el-table-column prop="driverPhoneNumber" label="Driver Phone Number">
                </el-table-column>
                <el-table-column prop="status" label="Status">
                </el-table-column>

                <el-table-column label="Operation" width="230">
                    <template slot-scope="props">
                        <el-button type="warning" @click="editButton(props.row)">Edit</el-button>
                        <el-button type="danger" @click="deleteButton(props.row)">Delete</el-button>
                    </template>
                </el-table-column>
            </el-table>
        </el-main>
    </el-container>

    <!-- pagination block
@current-change: trigger when current page is changed
:current-page: current page
:page-sizes:
:pagination.pageSize:
layout: the position of the layour
:total: total numbers
-->
    <el-pagination @current-change="handleCurrentChange" :current-page="pagination.currentPage" :page-size="pagination.pageSize" layout="total, prev, pager, next" :total="pagination.total">
    </el-pagination>

</div>

</body>
<script>
    new Vue({
        el: '#cars',
        data: {
            tableData: [{
                id: 1,
                driverName: 'test',
                driverIdNumber: 'test',
                carLicense: 'test',
                driverAddress: 'test',
                driverPhoneNumber: 12345678,
                status: 'finish'
            }],
            pagination: {
                currentPage: 1,
                pageSize: 5,
                total: 10
            }
        },
        methods: {
            listAllCar: function() {
                console.log("request the data from backend")
            },
            addButton: function() {
                console.log("add a new car")
            },
            editButton: function(row) {
                console.log("edit a car")
            },
            deleteButton: function(row) {
                console.log("delete a car")
            },
            // change current page
            handleCurrentChange(pageNum) {
                console.log(pageNum);
                // edit the parameter of pagination selection
                this.pagination.currentPage = pageNum;
                // select again
                this.listAllCar();
            },
        },
        mounted: function() {
            this.listAllCar()
        }
    })
</script>

</html>